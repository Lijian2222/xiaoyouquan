{"version":3,"file":"job.js","sources":["store/job.js"],"sourcesContent":["//帖子仓库\r\nimport { defineStore } from \"pinia\"\r\nimport { ref } from \"vue\"\r\nimport { environmentStore } from \"./environment\"\r\nconst currentUrl = environmentStore().currentUrl\r\n//job是仓库的唯一标识\r\nexport const jobStore = defineStore('job',()=>{\r\n\t\r\n\t\r\n\t//对工资进行处理\r\n\tfunction formatSalary(salary) {\r\n\t    // 判断输入是否为数字\r\n\t\t// console.log(salary,'xxx')\r\n\t\t// console.log(typeof salary)\r\n\t    if (typeof salary !== 'number' || isNaN(salary)) {\r\n\t        throw new Error('输入的工资必须是一个有效的数字')\r\n\t    }\r\n\t\r\n\t    if (salary < 1000) {\r\n\t        return salary.toString()\r\n\t    } else {\r\n\t        let result = salary / 1000;\r\n\t\t\tif (result % 1 === 0) {\r\n\t            return result + 'k'\r\n\t        } else {\r\n\t            return result.toFixed(1) + 'k';\r\n\t        }\r\n\t    }\r\n\t}\r\n\t\r\n\t//查询用户有哪些学校\r\n\tfunction queryCampus(){\r\n\t\treturn new Promise((resolve,reject)=>{\r\n\t\t\tuni.request({\r\n\t\t\t\t// url:'http://localhost:8080/user/query',\r\n\t\t\t\turl:currentUrl+'/user/query', //生产环境\r\n\t\t\t\tmethod:'post',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\t\"id\":4//暂时写死\r\n\t\t\t\t},\r\n\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\tconst user = res.data.data\r\n\t\t\t\t\tconst campus = []\r\n\t\t\t\t\tif (user.campus1!=null){\r\n\t\t\t\t\t\tcampus.push({\r\n\t\t\t\t\t\t\t\"text\":user.campus1,\r\n\t\t\t\t\t\t\t\"value\":user.campus1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (user.campus2!=null){\r\n\t\t\t\t\t\tcampus.push({\r\n\t\t\t\t\t\t\t\"text\":user.campus2,\r\n\t\t\t\t\t\t\t\"value\":user.campus2\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (user.campus3!=null){\r\n\t\t\t\t\t\tcampus.push({\r\n\t\t\t\t\t\t\t\"text\":user.campus3,\r\n\t\t\t\t\t\t\t\"value\":user.campus3\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresolve(campus)\r\n\t\t\t\t},\r\n\t\t\t\tfail:(err)=>{\r\n\t\t\t\t\treject(err)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\treturn {\r\n\t\tformatSalary,\r\n\t\tqueryCampus\r\n\t}\r\n})"],"names":["environmentStore","defineStore","uni"],"mappings":";;;AAIA,MAAM,aAAaA,kBAAgB,iBAAA,EAAG;AAE1B,MAAC,WAAWC,cAAAA,YAAY,OAAM,MAAI;AAI7C,WAAS,aAAa,QAAQ;AAI1B,QAAI,OAAO,WAAW,YAAY,MAAM,MAAM,GAAG;AAC7C,YAAM,IAAI,MAAM,iBAAiB;AAAA,IACpC;AAED,QAAI,SAAS,KAAM;AACf,aAAO,OAAO,SAAU;AAAA,IACjC,OAAY;AACH,UAAI,SAAS,SAAS;AAC5B,UAAI,SAAS,MAAM,GAAG;AACZ,eAAO,SAAS;AAAA,MAC7B,OAAgB;AACH,eAAO,OAAO,QAAQ,CAAC,IAAI;AAAA,MAC9B;AAAA,IACJ;AAAA,EACJ;AAGD,WAAS,cAAa;AACrB,WAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCC,oBAAAA,MAAI,QAAQ;AAAA;AAAA,QAEX,KAAI,aAAW;AAAA;AAAA,QACf,QAAO;AAAA,QACP,MAAK;AAAA,UACJ,MAAK;AAAA;AAAA,QACL;AAAA,QACD,SAAQ,CAAC,QAAM;AACd,gBAAM,OAAO,IAAI,KAAK;AACtB,gBAAM,SAAS,CAAE;AACjB,cAAI,KAAK,WAAS,MAAK;AACtB,mBAAO,KAAK;AAAA,cACX,QAAO,KAAK;AAAA,cACZ,SAAQ,KAAK;AAAA,YACpB,CAAO;AAAA,UACD;AACD,cAAI,KAAK,WAAS,MAAK;AACtB,mBAAO,KAAK;AAAA,cACX,QAAO,KAAK;AAAA,cACZ,SAAQ,KAAK;AAAA,YACpB,CAAO;AAAA,UACD;AACD,cAAI,KAAK,WAAS,MAAK;AACtB,mBAAO,KAAK;AAAA,cACX,QAAO,KAAK;AAAA,cACZ,SAAQ,KAAK;AAAA,YACpB,CAAO;AAAA,UACD;AACD,kBAAQ,MAAM;AAAA,QACd;AAAA,QACD,MAAK,CAAC,QAAM;AACX,iBAAO,GAAG;AAAA,QACV;AAAA,MACL,CAAI;AAAA,IACJ,CAAG;AAAA,EACD;AAID,SAAO;AAAA,IACN;AAAA,IACA;AAAA,EACA;AACF,CAAC;;"}