"use strict";const e=require("../../common/vendor.js"),r=require("../../common/assets.js"),t=require("../../store/job.js"),a=require("../../store/environment.js"),s=require("../../store/user.js"),i="../../static/star2.png",n={__name:"JobPost",props:{id:Number,userId:Number,jobName:String,jobDetail:String,position:String,academicAcquired:String,experienceAcquired:String,jobBelonging:String,nature:String,nickname:String,publishTime:String,salaryStart:Number,salaryEnd:Number,salaryNums:Number,campus:String},setup(n){const u=a.environmentStore().currentUrl,o=e.ref("../../static/star2.png"),d=n;new Promise(((r,t)=>{e.index.request({url:u+"/favorite/query",method:"POST",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId},success:e=>{0==e.data.data.length?(o.value=i,r(!0)):(o.value="../../static/star3.png",r(!1))},fail:e=>{t(e)}})}));const c=e.computed((()=>`id=${d.id}&userId=${d.userId}&jobName=${d.jobName}&jobDetail=${d.jobDetail}&position=${d.position}&academicAcquired=${d.academicAcquired}&experienceAcquired=${d.experienceAcquired}&jobBelonging=${d.jobBelonging}&nature=${d.nature}&nickname=${d.nickname}&publishTime=${d.publishTime}&salaryStart=${d.salaryStart}&salaryEnd=${d.salaryEnd}&salaryNums=${d.salaryNums}&campus=${d.campus}`));function m(){o.value==i?(o.value="../../static/star3.png",e.index.request({url:u+"/favorite/query",method:"post",data:{concerned:d.id,status:1,userId:s.userStore().userId},success:r=>{0==r.data.data.length?e.index.request({url:u+"/favorite/insert",method:"post",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId}}):e.index.request({url:u+"/favorite/update",method:"post",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId}})},fail:e=>{reject(e)}})):(o.value=i,e.index.request({url:u+"/favorite/update",method:"post",data:{isDeleted:1,concerned:d.id,status:1,userId:s.userStore().userId}}))}return(a,s)=>({a:e.t(d.jobName),b:e.t(e.unref(t.jobStore)().formatSalary(d.salaryStart)),c:e.t(e.unref(t.jobStore)().formatSalary(d.salaryEnd)),d:e.t(d.salaryNums),e:o.value,f:e.o(m),g:e.t(d.position),h:e.t(d.nature),i:e.t(d.academicAcquired),j:e.t(d.experienceAcquired),k:e.t(d.jobBelonging),l:"/pages/jobContent/jobContent?"+c.value,m:r._imports_0$1,n:e.t(d.nickname),o:r._imports_1$3})}},u=e._export_sfc(n,[["__scopeId","data-v-cd6b39fd"]]);wx.createComponent(u);
