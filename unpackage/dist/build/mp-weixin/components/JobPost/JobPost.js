"use strict";const e=require("../../common/vendor.js"),r=require("../../common/assets.js"),t=require("../../store/job.js"),a=require("../../store/environment.js"),s=require("../../store/user.js"),n="../../static/star2.png",i={__name:"JobPost",props:{id:Number,userId:Number,jobName:String,jobDetail:String,position:String,academicAcquired:String,experienceAcquired:String,jobBelonging:String,nature:String,nickname:String,publishTime:String,salaryStart:Number,salaryEnd:Number,salaryNums:Number,campus:String},setup(i){const o=a.environmentStore().currentUrl,u=e.ref("../../static/star2.png"),d=i;new Promise(((r,t)=>{e.index.request({url:o+"/favorite/query",method:"POST",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId},success:e=>{0==e.data.data.length?(u.value=n,r(!0)):(u.value="../../static/star3.png",r(!1))},fail:e=>{t(e)}})}));const c=e.computed((()=>`id=${d.id}&userId=${d.userId}&jobName=${d.jobName}&jobDetail=${d.jobDetail}&position=${d.position}&academicAcquired=${d.academicAcquired}&experienceAcquired=${d.experienceAcquired}&jobBelonging=${d.jobBelonging}&nature=${d.nature}&nickname=${d.nickname}&publishTime=${d.publishTime}&salaryStart=${d.salaryStart}&salaryEnd=${d.salaryEnd}&salaryNums=${d.salaryNums}&campus=${d.campus}`));function m(){u.value==n?(u.value="../../static/star3.png",e.index.request({url:o+"/favorite/query",method:"post",data:{concerned:d.id,status:1,userId:s.userStore().userId},success:r=>{0==r.data.data.length?e.index.request({url:o+"/favorite/insert",method:"post",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId}}):e.index.request({url:o+"/favorite/update",method:"post",data:{isDeleted:0,concerned:d.id,status:1,userId:s.userStore().userId}})},fail:e=>{reject(e)}})):(u.value=n,e.index.request({url:o+"/favorite/update",method:"post",data:{isDeleted:1,concerned:d.id,status:1,userId:s.userStore().userId}}))}return(a,s)=>({a:e.t(d.jobName),b:e.t(e.unref(t.jobStore)().formatSalary(d.salaryStart)),c:e.t(e.unref(t.jobStore)().formatSalary(d.salaryEnd)),d:e.t(d.salaryNums),e:u.value,f:e.o(m),g:e.t(d.position),h:e.t(d.nature),i:e.t(d.academicAcquired),j:e.t(d.experienceAcquired),k:e.t(d.jobBelonging),l:"/pages/jobContent/jobContent?"+c.value,m:r._imports_0$2,n:`/pages/personHome/personHome?username=${d.nickname}`,o:e.t(d.nickname),p:r._imports_1$3})}},o=e._export_sfc(i,[["__scopeId","data-v-5c0b32e3"]]);wx.createComponent(o);
