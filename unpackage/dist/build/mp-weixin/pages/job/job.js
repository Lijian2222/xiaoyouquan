"use strict";const e=require("../../common/vendor.js");require("../../store/job.js");const a=require("../../store/user.js"),l=require("../../store/environment.js");if(!Array){(e.resolveComponent("uni-data-select")+e.resolveComponent("JobPost"))()}Math||((()=>"../../uni_modules/uni-data-select/components/uni-data-select/uni-data-select.js")+(()=>"../../components/JobPost/JobPost.js"))();const o={__name:"job",setup(o){const t=l.environmentStore().currentUrl,u=e.ref(""),r=e.ref([]),s=e.ref([]),c=e.ref([1,2,3]),n=e.ref(1);function d(a){e.index.request({url:t+"/job/query",method:"post",data:{campus:u.value,pageIndex:a,pageSize:10},success:e=>{s.value=[...s.value,...e.data.data]},fail:e=>{reject(e)}})}return r.value=a.userStore().campus,e.onReachBottom((()=>{n.value=n.value+1,d(n.value)})),e.watch(u,((e,a)=>{console.log("watch触发"),n.value=1,s.value=[]})),(l,o)=>({a:e.o((e=>d(1))),b:e.o((e=>u.value=e)),c:e.p({localdata:r.value,placeholder:"请选择您的学校",modelValue:u.value}),d:e.o((e=>u.value=e)),e:e.p({localdata:c.value,"text-key":"text","value-key":"value",placeholder:"行业筛选",modelValue:u.value}),f:e.o((e=>u.value=e)),g:e.p({localdata:c.value,"text-key":"text","value-key":"value",placeholder:"职位筛选",modelValue:u.value}),h:e.o((e=>u.value=e)),i:e.p({localdata:c.value,"text-key":"text","value-key":"value",placeholder:"薪资范围",modelValue:u.value}),j:e.o((e=>u.value=e)),k:e.p({localdata:c.value,"text-key":"text","value-key":"value",placeholder:"经验要求",modelValue:u.value}),l:!e.unref(a.userStore)().logInFlag,m:e.f(s.value,((a,l,o)=>({a:a.id,b:a.id,c:"3ff81915-5-"+o,d:e.p({id:a.id,userId:a.userId,jobName:a.jobName,jobDetail:a.jobDetail,position:a.position,academicAcquired:a.academicAcquired,experienceAcquired:a.experienceAcquired,jobBelonging:a.jobBelonging,nature:a.nature,nickname:a.nickname,publishTime:a.publishTime,salaryStart:a.salaryStart,salaryEnd:a.salaryEnd,salaryNums:a.salaryNums,campus:a.campus})})))})}},t=e._export_sfc(o,[["__scopeId","data-v-3ff81915"]]);wx.createPage(t);
