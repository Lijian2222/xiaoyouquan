"use strict";const e=require("../../common/vendor.js");require("../../store/job.js");const a=require("../../store/user.js"),o=require("../../store/environment.js");if(!Array){(e.resolveComponent("uni-data-select")+e.resolveComponent("JobPost"))()}Math||((()=>"../../uni_modules/uni-data-select/components/uni-data-select/uni-data-select.js")+(()=>"../../components/JobPost/JobPost.js"))();const r={__name:"job",setup(r){const t=o.environmentStore().currentUrl,s=e.ref(""),n=e.ref([]),u=e.ref([]);e.ref([1,2,3]);const c=e.ref(1);function l(a){e.index.request({url:t+"/job/query",method:"post",data:{campus:s.value,pageIndex:a,pageSize:10},success:e=>{u.value=[...u.value,...e.data.data]},fail:e=>{reject(e)}})}return n.value=a.userStore().campus,e.onReachBottom((()=>{c.value=c.value+1,l(c.value)})),e.watch(s,((e,a)=>{console.log("watch触发"),c.value=1,u.value=[]})),(o,r)=>({a:e.o((e=>l(1))),b:e.o((e=>s.value=e)),c:e.p({localdata:n.value,placeholder:"请选择您的学校",modelValue:s.value}),d:!e.unref(a.userStore)().logInFlag,e:e.f(u.value,((a,o,r)=>({a:a.id,b:a.id,c:"7a24a29a-1-"+r,d:e.p({id:a.id,userId:a.userId,jobName:a.jobName,jobDetail:a.jobDetail,position:a.position,academicAcquired:a.academicAcquired,experienceAcquired:a.experienceAcquired,jobBelonging:a.jobBelonging,nature:a.nature,nickname:a.nickname,publishTime:a.publishTime,salaryStart:a.salaryStart,salaryEnd:a.salaryEnd,salaryNums:a.salaryNums,campus:a.campus})})))})}},t=e._export_sfc(r,[["__scopeId","data-v-7a24a29a"]]);wx.createPage(t);
