"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js"),o=require("../../store/post.js"),s=require("../../store/user.js"),r=require("../../store/environment.js");if(!Array){e.resolveComponent("homePost")()}Math;const u={__name:"index",setup(u){r.environmentStore().currentUrl;const n=e.ref(1);let i=1,m=1,a=1;function l(){s.userStore().logInFlag?e.index.navigateTo({url:"/pages/publish/publish"}):e.index.showToast({title:"请先登录",icon:"error"})}return e.onMounted((()=>{o.postStore().getList1(i)})),e.watch(n,(e=>{2===e&&0===o.postStore().list2.length?o.postStore().getList2(m):3===e&&0===o.postStore().list3.length&&o.postStore().getList3(a)})),e.onReachBottom((()=>{1==n.value?(i+=1,o.postStore().getList1(i)):2==n.value?(m+=1,o.postStore().getList2(m)):(a+=1,o.postStore().getList3(a))})),(r,u)=>e.e({a:t._imports_0,b:1==n.value,c:e.o((e=>n.value=1)),d:t._imports_0,e:2==n.value,f:e.o((e=>n.value=2)),g:t._imports_0,h:3==n.value,i:e.o((e=>n.value=3)),j:!e.unref(s.userStore)().logInFlag&&1!==n.value,k:1==n.value},1==n.value?{l:e.f(e.unref(o.postStore)().list1,((t,o,s)=>({a:t.id,b:t.id,c:"576b6998-0-"+s,d:e.p({id:t.id,userId:t.userId,username:t.nickname,content:t.content,goodNums:t.goodNums,commentNums:t.commentNums,viewNums:t.viewNums,time:t.publishTime,retweet:t.retweet,signature:t.signature,profilePicture:t.profilePicture})})))}:2==n.value&&e.unref(s.userStore)().logInFlag?{n:e.f(e.unref(o.postStore)().list2,((t,o,s)=>({a:t.id,b:t.id,c:"576b6998-1-"+s,d:e.p({id:t.id,userId:t.userId,username:t.nickname,content:t.content,goodNums:t.goodNums,commentNums:t.commentNums,viewNums:t.viewNums,time:t.publishTime,retweet:t.retweet,signature:t.signature})})))}:3==n.value&&e.unref(s.userStore)().logInFlag?{p:e.f(e.unref(o.postStore)().list3,((t,o,s)=>({a:t.id,b:t.id,c:"576b6998-2-"+s,d:e.p({id:t.id,userId:t.userId,username:t.nickname,content:t.content,goodNums:t.goodNums,commentNums:t.commentNums,viewNums:t.viewNums,time:t.publishTime,retweet:t.retweet,signature:t.signature})})))}:{},{m:2==n.value&&e.unref(s.userStore)().logInFlag,o:3==n.value&&e.unref(s.userStore)().logInFlag,q:t._imports_1,r:e.o(l)})}},n=e._export_sfc(u,[["__scopeId","data-v-576b6998"]]);wx.createPage(n);
