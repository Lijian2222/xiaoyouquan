"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),a=require("../../store/post.js");require("../../store/user.js");const t=require("../../store/environment.js");if(!Array){(e.resolveComponent("JobPost")+e.resolveComponent("homePost"))()}Math||((()=>"../../components/JobPost/JobPost.js")+(()=>"../../components/homePost/homePost.js"))();const s={__name:"personHome",setup(s){const n=t.environmentStore().currentUrl,i=e.ref({}),r=e.ref(1);e.onLoad((e=>{console.log(e),i.value=e,r.value=Number(e.userId)}));const u=e.ref([]);const l=e.ref([]);e.onMounted((()=>{!async function(o){let t=await e.index.request({url:n+"/post/query",method:"post",data:{isDeleted:0,pageIndex:o,pageSize:5,userId:r.value}});t.data.data.forEach(a.postStore().handleTime),u.value=[...u.value,...t.data.data],console.log(u)}(1),async function(o){let t=await e.index.request({url:n+"/job/query",method:"post",data:{isDeleted:0,pageIndex:o,pageSize:5,userId:r.value}});t.data.data.forEach(a.postStore().handleTime),l.value=[...l.value,...t.data.data],console.log(l)}(1)}));const c=e.ref("position");e.ref(1),e.ref([{id:1,title:"C++大数据开发工程师",location:"杭州",education:"本科",experience:"3-5年",salary:"12-15k·14"},{id:2,title:"数仓开发工程师（基础数据...）",location:"杭州·深圳·成都",education:"本科",experience:"3-5年",salary:"12-15k·14"}]);const d=e=>{c.value=e};function m(){e.index.navigateTo({url:`/pages/messageContent/messageContent?id=1&userId=${i.userId}&jobName=量化金融开发工程师&jobDetail=负责金融市场产品的估值定价模型研发，并落地为可用于系统开发的文档和案例&position=杭州&academicAcquired=本科&experienceAcquired=不限&jobBelonging=互联网&nature=国企&nickname=${i.value.username}&publishTime=2025-03-19&salaryStart=20000&salaryEnd=30000&salaryNums=14&campus=哈尔滨工业大学&flag=false`,success:function(){console.log("跳转成功")},fail:function(e){console.error("跳转失败",e)}})}const p=e.ref("关 注");function v(){e.index.showToast({title:"关注成功",icon:"success",duration:2e3,mask:!0,success:()=>{console.log("Toast 显示成功")}}),p.value="已关注"}return(a,t)=>e.e({a:o._imports_0$4,b:o._imports_0$2,c:e.t(i.value.username),d:o._imports_1$3,e:"position"===c.value},(c.value,{}),{f:"position"===c.value?1:"",g:e.o((e=>d("position"))),h:"post"===c.value},(c.value,{}),{i:"post"===c.value?1:"",j:e.o((e=>d("post"))),k:"position"===c.value},"position"===c.value?{l:e.f(l.value,((o,a,t)=>({a:o.id,b:o.id,c:"db764fb1-0-"+t,d:e.p({id:o.id,userId:o.userId,jobName:o.jobName,jobDetail:o.jobDetail,position:o.position,academicAcquired:o.academicAcquired,experienceAcquired:o.experienceAcquired,jobBelonging:o.jobBelonging,nature:o.nature,nickname:o.nickname,publishTime:o.publishTime,salaryStart:o.salaryStart,salaryEnd:o.salaryEnd,salaryNums:o.salaryNums,campus:o.campus})})))}:{},{m:"post"===c.value},"post"===c.value?{n:e.f(u.value,((o,a,t)=>({a:o.id,b:o.id,c:"db764fb1-1-"+t,d:e.p({id:o.id,username:o.nickname,content:o.content,goodNums:o.goodNums,commentNums:o.commentNums,viewNums:o.viewNums,time:o.publishTime,retweet:o.retweet,signature:o.signature,profilePicture:o.profilePicture})})))}:{},{o:e.t(p.value),p:e.o(v),q:e.o(m)})}},n=e._export_sfc(s,[["__scopeId","data-v-db764fb1"]]);wx.createPage(n);
